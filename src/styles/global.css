@import "tailwindcss";

/* 1. DEFINICIÓN DE VARIABLES CSS (Aquí ocurre la magia del cambio de color) */
:root {
  /* --- TEMA OSCURO (Por defecto) --- */
  --color-primary-bg: #141C16;    /* Verde Oscuro */
  --color-accent-light: #EBEAD6;  /* Hueso / Crema */
  --color-accent-dim: #A3A398;    /* Gris Verdoso */
  --color-border: rgba(163, 163, 152, 0.2);
}

[data-theme="light"] {
  /* --- TEMA CLARO (Invertido estilo "Papel Técnico") --- */
  --color-primary-bg: #Eae9d7;    /* Hueso (Fondo) */
  --color-accent-light: #141C16;  /* Verde Oscuro (Texto) */
  --color-accent-dim: #5A665D;    /* Verde medio (Detalles) */
  --color-border: rgba(20, 28, 22, 0.15);
}

@theme {
  /* 2. CONECTAMOS TAILWIND A LAS VARIABLES */
  /* En lugar de códigos hex, usamos var(...) */
  --color-primary-bg: var(--color-primary-bg);
  --color-accent-light: var(--color-accent-light);
  --color-accent-dim: var(--color-accent-dim);

  /* 3. FUENTES Y ANIMACIONES (Se quedan igual) */
  --font-display: "Oswald", "sans-serif";
  --font-mono: "JetBrains Mono", "monospace";

  --animate-shimmer: shimmer 3s infinite linear;

  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }
}

@layer base {
  html {
    scroll-behavior: smooth;
    background-color: var(--color-primary-bg);
    color: var(--color-accent-light);
    /* Transición suave al cambiar de tema */
    transition: background-color 0.5s ease, color 0.5s ease;
  }
  
  body {
    font-family: var(--font-mono); 
    overflow-x: hidden;
  }

  /* Scrollbar Dinámico */
  ::-webkit-scrollbar { width: 8px; }
  ::-webkit-scrollbar-track { background: var(--color-primary-bg); }
  ::-webkit-scrollbar-thumb { 
    background: var(--color-accent-dim); 
    border-radius: 4px; 
    opacity: 0.8;
  }
  ::-webkit-scrollbar-thumb:hover { background: var(--color-accent-light); }

  /* Selección Dinámica */
  ::selection {
    background-color: var(--color-accent-light);
    color: var(--color-primary-bg);
  }
}

@utility writing-vertical-rl {
  writing-mode: vertical-rl;
}

@layer utilities {
  .text-stroke {
    -webkit-text-fill-color: transparent;
    -webkit-text-stroke-width: 2px;
    /* Usamos la variable para que el borde cambie de color también */
    -webkit-text-stroke-color: var(--color-accent-light);
  }

  /* Ruido mejorado */
  .bg-noise {
    position: relative;
    isolation: isolate;
  }
  .bg-noise::before {
    content: "";
    position: fixed; 
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    pointer-events: none;
    z-index: 50;
    /* Bajé la opacidad un poco en modo claro para que no ensucie tanto */
    opacity: 0.04; 
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    mix-blend-mode: overlay; /* Mejor integración con fondos claros/oscuros */
  }

  @media (max-width: 768px) {
    .text-stroke {
      -webkit-text-stroke-width: 1px;
    }
  }

}